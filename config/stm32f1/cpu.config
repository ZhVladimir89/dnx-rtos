# <MSG> Select microcontroller
# <KEY> CPUCONFIG__MCU
# <CHOOSE> STM32F100C4xx
# <CHOOSE> STM32F100C6xx
# <CHOOSE> STM32F100C8xx
# <CHOOSE> STM32F100R6xx
# <CHOOSE> STM32F100RBxx
# <CHOOSE> STM32F100RExx
# <CHOOSE> STM32F100VBxx
# <CHOOSE> STM32F100ZCxx
# <CHOOSE> STM32F101C6xx
# <CHOOSE> STM32F101C8xx
# <CHOOSE> STM32F101CBxx
# <CHOOSE> STM32F101R6xx
# <CHOOSE> STM32F101R8xx
# <CHOOSE> STM32F101RBxx
# <CHOOSE> STM32F101V8xx
# <CHOOSE> STM32F101VBxx
# <CHOOSE> STM32F103C6xx
# <CHOOSE> STM32F103C8xx
# <CHOOSE> STM32F103CBxx
# <CHOOSE> STM32F103R4xx
# <CHOOSE> STM32F103R6xx
# <CHOOSE> STM32F103R8xx
# <CHOOSE> STM32F103RBxx
# <CHOOSE> STM32F103RCxx
# <CHOOSE> STM32F103RDxx
# <CHOOSE> STM32F103RExx
# <CHOOSE> STM32F103RGxx
# <CHOOSE> STM32F103T8xx
# <CHOOSE> STM32F103V8xx
# <CHOOSE> STM32F103VBxx
# <CHOOSE> STM32F103VCxx
# <CHOOSE> STM32F103VDxx
# <CHOOSE> STM32F103VExx
# <CHOOSE> STM32F103VGxx
# <CHOOSE> STM32F103ZCxx
# <CHOOSE> STM32F103ZExx
# <CHOOSE> STM32F103ZGxx
# <CHOOSE> STM32F105RBxx
# <CHOOSE> STM32F105RCxx
# <CHOOSE> STM32F105VBxx
# <CHOOSE> STM32F105VCxx
# <CHOOSE> STM32F107RCxx
# <CHOOSE> STM32F107VBxx
# <CHOOSE> STM32F107VCxx
# <ASK>
CPUCONFIG__MCU=STM32F107RCxx

# fixed configuration
ifeq ($(CPUCONFIG__MCU), STM32F100C4xx)
CPUCONFIG__FAMILY=STM32F10X_LD_VL
endif
ifeq ($(CPUCONFIG__MCU), STM32F100C6xx)
CPUCONFIG__FAMILY=STM32F10X_LD_VL
endif
ifeq ($(CPUCONFIG__MCU), STM32F100C8xx)
CPUCONFIG__FAMILY=STM32F10X_MD_VL
endif
ifeq ($(CPUCONFIG__MCU), STM32F100R6xx)
CPUCONFIG__FAMILY=STM32F10X_LD_VL
endif
ifeq ($(CPUCONFIG__MCU), STM32F100RBxx)
CPUCONFIG__FAMILY=STM32F10X_MD_VL
endif
ifeq ($(CPUCONFIG__MCU), STM32F100RExx)
CPUCONFIG__FAMILY=STM32F10X_HD_VL
endif
ifeq ($(CPUCONFIG__MCU), STM32F100VBxx)
CPUCONFIG__FAMILY=STM32F10X_MD_VL
endif
ifeq ($(CPUCONFIG__MCU), STM32F100ZCxx)
CPUCONFIG__FAMILY=STM32F10X_HD_VL
endif
ifeq ($(CPUCONFIG__MCU), STM32F101C6xx)
CPUCONFIG__FAMILY=STM32F10X_LD
endif
ifeq ($(CPUCONFIG__MCU), STM32F101C8xx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F101CBxx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F101R6xx)
CPUCONFIG__FAMILY=STM32F10X_LD
endif
ifeq ($(CPUCONFIG__MCU), STM32F101R8xx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F101RBxx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F101V8xx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F101VBxx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103C6xx)
CPUCONFIG__FAMILY=STM32F10X_LD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103C8xx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103CBxx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103R4xx)
CPUCONFIG__FAMILY=STM32F10X_LD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103R6xx)
CPUCONFIG__FAMILY=STM32F10X_LD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103R8xx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103RBxx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103RCxx)
CPUCONFIG__FAMILY=STM32F10X_HD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103RDxx)
CPUCONFIG__FAMILY=STM32F10X_HD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103RExx)
CPUCONFIG__FAMILY=STM32F10X_HD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103RGxx)
CPUCONFIG__FAMILY=STM32F10X_XL
endif
ifeq ($(CPUCONFIG__MCU), STM32F103T8xx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103V8xx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103VBxx)
CPUCONFIG__FAMILY=STM32F10X_MD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103VCxx)
CPUCONFIG__FAMILY=STM32F10X_HD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103VDxx)
CPUCONFIG__FAMILY=STM32F10X_HD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103VExx)
CPUCONFIG__FAMILY=STM32F10X_HD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103VGxx)
CPUCONFIG__FAMILY=STM32F10X_XL
endif
ifeq ($(CPUCONFIG__MCU), STM32F103ZCxx)
CPUCONFIG__FAMILY=STM32F10X_HD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103ZExx)
CPUCONFIG__FAMILY=STM32F10X_HD
endif
ifeq ($(CPUCONFIG__MCU), STM32F103ZGxx)
CPUCONFIG__FAMILY=STM32F10X_XL
endif
ifeq ($(CPUCONFIG__MCU), STM32F105RBxx)
CPUCONFIG__FAMILY=STM32F10X_CL
endif
ifeq ($(CPUCONFIG__MCU), STM32F105RCxx)
CPUCONFIG__FAMILY=STM32F10X_CL
endif
ifeq ($(CPUCONFIG__MCU), STM32F105VBxx)
CPUCONFIG__FAMILY=STM32F10X_CL
endif
ifeq ($(CPUCONFIG__MCU), STM32F105VCxx)
CPUCONFIG__FAMILY=STM32F10X_CL
endif
ifeq ($(CPUCONFIG__MCU), STM32F107RCxx)
CPUCONFIG__FAMILY=STM32F10X_CL
endif
ifeq ($(CPUCONFIG__MCU), STM32F107VBxx)
CPUCONFIG__FAMILY=STM32F10X_CL
endif
ifeq ($(CPUCONFIG__MCU), STM32F107VCxx)
CPUCONFIG__FAMILY=STM32F10X_CL
endif

CPUCONFIG__CPU      = cortex-m3
CPUCONFIG__AFLAGS   = -mcpu=$(CPUCONFIG__CPU) -mthumb -mthumb-interwork -DGCC_ARMCM3 -D$(CPUCONFIG__FAMILY)
CPUCONFIG__CFLAGS   = -mcpu=$(CPUCONFIG__CPU) -mthumb -mthumb-interwork -DGCC_ARMCM3 -D$(CPUCONFIG__FAMILY)
CPUCONFIG__CXXFLAGS = -mcpu=$(CPUCONFIG__CPU) -mthumb -mthumb-interwork -DGCC_ARMCM3 -D$(CPUCONFIG__FAMILY)
CPUCONFIG__LDFLAGS  = -mcpu=$(CPUCONFIG__CPU) -mthumb -mthumb-interwork
CPUCONFIG__LD       = src/system/portable/stm32f1/ld/$(CPUCONFIG__MCU).ld
